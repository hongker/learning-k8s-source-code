### 1.cap


CAP 理论对分布式系统的特性做了高度抽象，形成了三个指标

* 一致性
* 可用性
* 分区容错性



一致性（Consistency）：客户端每次读写操作，不管是访问哪个节点都是一样的数据

可用性(Availability)：不管客户端访问的是哪个节点，都会给你返回数据

分区容错性（Partition Tolerance）:当节点间出现任意数量的消息丢失或高延迟的时候，系统仍然可以继续提供服务。也就是说，分布式系统在告诉访问本系统的客户端：不管我的内部出现什么样的数据同步问题，我会一直运行，提供服务。

**注意点**
（1）一致性并不代表完整性

（2）CAP不能三个都满足的条件在于，没有网络故障或者系统问题。当系统没问题的时候CAP是可以同时满足的。当有故障时，就要根据情况，选择A 和是  C

### 2.总结

(1) CA 模型，在分布式系统中不存在。因为舍弃 P，意味着舍弃分布式系统，就比如单机版关系型数据库 MySQL，如果 MySQL 要考虑主备或集群部署时，它必须考虑 P。

(2) CP 模型，采用 CP 模型的分布式系统，一旦因为消息丢失、延迟过高发生了网络分区，就影响用户的体验和业务的可用性。因为为了防止数据不一致，集群将拒绝新数据的写入，典型的应用是 ZooKeeper，Etcd 和 HBase。

(3) AP 模型，采用 AP 模型的分布式系统，实现了服务的高可用。用户访问系统的时候，都能得到响应数据，不会出现响应错误，但当出现分区故障时，相同的读操作，访问不同的节点，得到响应数据可能不一样。典型应用就比如 Cassandra 和 DynamoDB。

